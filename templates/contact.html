{% extends "base.html" %}


{% block title %}Contact - Prem Kumar{% endblock %}

{% block content %}
<style>
    .chat-icon {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        background-color: #4CAF50;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000;
    }

    .chat-icon:hover {
        background-color: #45a049;
    }

    .chat-container {
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 350px;
        max-height: 500px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        background-color: #f9f9f9;
        display: none;
        flex-direction: column;
        z-index: 999;
    }

    .chat-container.open {
        display: flex;
    }

    .chat-header {
        background-color: #4CAF50;
        color: white;
        padding: 10px;
        text-align: center;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        position: relative;
    }

    .close-button {
        position: absolute;
        right: 10px;
        top: 10px;
        background: none;
        border: none;
        color: white;
        font-size: 16px;
        cursor: pointer;
    }

    .close-button:hover {
        color: #ddd;
    }

    .chat-box {
        flex-grow: 1;
        height: 300px;
        overflow-y: auto;
        padding: 10px;
        border-bottom: 1px solid #ccc;
    }

    .message {
        margin: 10px;
        padding: 10px;
        border-radius: 5px;
    }

    .user-message {
        background-color: #d1e7dd;
        text-align: right;
    }

    .bot-message {
        background-color: #e9ecef;
        text-align: left;
    }

    .input-container {
        display: flex;
        padding: 10px;
    }

    input[type="text"] {
        flex: 1;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px 0 0 5px;
        outline: none;
    }

    button {
        padding: 10px;
        border: none;
        background-color: #4CAF50;
        color: white;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
    }

    button:hover {
        background-color: #45a049;
    }
</style>
<div class="chat-icon" onclick="toggleChatbot()">ðŸ’¬</div>
    <div class="chat-container">
        <div class="chat-header">
            <h2>RAG Chatbot</h2>
            <button class="close-button" onclick="toggleChatbot()">âœ–</button>
        </div>
        <div class="chat-box" id="chatBox"></div>
        <div class="input-container">
            <input type="text" id="userInput" placeholder="Type your message..." autocomplete="off">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
<section class="page-header">
    <div class="container">
        <h1 class="page-title fade-in">Get In Touch</h1>
        <p class="page-subtitle fade-in-delay">Let's discuss how we can work together</p>
    </div>
</section>

<section class="contact">
    <div class="container">
        <div class="contact-grid">
            <div class="contact-info scroll-animate">
                <h2>Let's Connect</h2>
                <p>
                    I'm always excited to discuss new opportunities, collaborate on interesting projects, 
                    or simply chat about the latest developments in AI and machine learning.
                </p>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p>premkumar18082002@gmail.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone</h3>
                            <p>+91 93452 76614</p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Location</h3>
                            <p>Trichy</p>
                        </div>
                    </div>
                </div>
                
                <div class="social-links">
                    <h3>Follow Me</h3>
                    <div class="social-grid">
                        <a href="https://github.com/Premkumar9667" target="_blank" class="social-link-large">
                            <i class="fab fa-github"></i>
                            <span>GitHub</span>
                        </a>
                        <a href="https://www.linkedin.com/in/b-premkumar-712956232/" target="_blank" class="social-link-large">
                            <i class="fab fa-linkedin"></i>
                            <span>LinkedIn</span>
                        </a>
                        <a href="https://wa.me/9345276614" target="_blank" class="social-link-large">
                            <i class="fab fa-whatsapp"></i>
                            <span>WhatsApp</span>
                        </a>
                        
                    </div>
                </div>
            </div>
            
            <div class="contact-form-container scroll-animate">
                <form class="contact-form" method="POST">
                    <h2>Send Message</h2>
                    
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="purpose">Purpose *</label>
                        <select id="purpose" name="purpose" required>
                            <option value="">Select Purpose</option>
                            <option value="Job Opportunity">Job Opportunity</option>
                            <option value="Project Collaboration">Project Collaboration</option>
                            <option value="Consulting">Consulting</option>
                            <option value="Speaking Engagement">Speaking Engagement</option>
                            <option value="Research Collaboration">Research Collaboration</option>
                            <option value="General Inquiry">General Inquiry</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Message</label>
                        <textarea id="description" name="description" rows="5" 
                                placeholder="Tell me more about your project, opportunity, or inquiry..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-full">
                        <i class="fas fa-paper-plane"></i>
                        Send Message
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<section class="availability">
    <div class="container">
        <div class="availability-card scroll-animate">
            <h2>Current Availability</h2>
            <div class="availability-status">
                <div class="status-indicator available"></div>
                <span>Available for new opportunities</span>
            </div>
            <p>
                I'm currently open to exciting AI/ML roles, research collaborations, and consulting opportunities. 
                Feel free to reach out if you have something interesting in mind!
            </p>
            <div class="availability-types">
                <div class="availability-type">
                    <i class="fas fa-briefcase"></i>
                    <span>Full-time Positions</span>
                </div>
                <div class="availability-type">
                    <i class="fas fa-handshake"></i>
                    <span>Consulting Projects</span>
                </div>
                <div class="availability-type">
                    <i class="fas fa-microscope"></i>
                    <span>Research Collaborations</span>
                </div>
                <div class="availability-type">
                    <i class="fas fa-microphone"></i>
                    <span>Speaking Engagements</span>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    function toggleChatbot() {
        const chatContainer = document.querySelector('.chat-container');
        chatContainer.classList.toggle('open');
    }

    async function sendMessage() {
        const userInput = document.getElementById('userInput').value.trim();
        if (!userInput) return;

        // Display user message
        const chatBox = document.getElementById('chatBox');
        const userMessage = document.createElement('div');
        userMessage.className = 'message user-message';
        userMessage.textContent = userInput;
        chatBox.appendChild(userMessage);
        chatBox.scrollTop = chatBox.scrollHeight;

        // Clear input
        document.getElementById('userInput').value = '';

        try {
            // Send request to Flask API
            const response = await fetch('/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: userInput })
            });

            const data = await response.json();
            // Display bot response
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot-message';
            botMessage.textContent = data.response;
            chatBox.appendChild(botMessage);
            chatBox.scrollTop = chatBox.scrollHeight;
        } catch (error) {
            console.error('Error:', error);
            const errorMessage = document.createElement('div');
            errorMessage.className = 'message bot-message';
            errorMessage.textContent = 'Error: Could not connect to the server.';
            chatBox.appendChild(errorMessage);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    }

    // Allow pressing Enter to send message
    document.getElementById('userInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
    });
</script>
{% endblock %}
